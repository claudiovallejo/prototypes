---
layout: main2
title: Projects
---
<% categories = [] %>
<% data.projects2.each do |project| %>
  <% if !categories.include? project.category %>
    <% categories.push(project.category) %>
  <% end %>
<% end %>
<div class="mw8 center">
  <%# Project Category Filters %>
  <nav class="mv5">
    <h4 class="mt2 mb0 ph4 ph0-l noto-sans fw4 f6 tracked-mega ttu silver">Filters</h4>
    <ul id="filters" class="list ma0 ph4 overflow-x-auto overflow-scrolling nowrap center pt3 pb4">
      <li class="dib"><%= link_to "All", "/", :class => "filter link noto-sans mr4 dark-gray hover-dark-gray" %></li>
      <% categories.each do |category| %>
        <li class="dib"><%= link_to category, "/", :class => "filter link noto-sans mr4 moon-gray hover-dark-gray" %></li>
      <% end %>
    </ul>
  </nav>
  <%# Project List %>
  <div class="">
    <div id="projects" class="a4">
      <% second_half = false %>
      <% length = data.projects2.length %>
      <% data.projects2.each_with_index do |project, r| %>
        <% if project.images.card.type == "full" %>
          <div class="aspect-ratio aspect-ratio--16x9 <% if r == length - 1 %>mb0<% else %>mb1 mb4-l<% end %>" data-category="<%= project.category %>">
            <a class="db link aspect-ratio--object cover dim" title="<%= project.images.card.alt %>" href="/prototype2/projects/<%= purl project.name %>" style="background:url(../images/<%= project.images.card.path %>) no-repeat center;">
              <div class="pa4">
                <h4 class="mt0 mb2 noto-sans fw4 f6 tracked-mega ttu white"><%= project.category %></h4>
                <h2 class="ma0 noto-sans fw4 f4 white lh-title"><%= project.name %></h2>
              </div>
            </a>
          </div>
        <% elsif project.images.card.type == "half" && !second_half %>
          <% second_half = true %>
          <div class="cf">
            <div class="fl-ns w-50-ns pr15-m pr3-l">
              <div class="aspect-ratio aspect-ratio--16x9 aspect-ratio--1x1-ns <% if r == length - 1 %>mb0<% else %>mb1 mb4-l<% end %>" data-category="<%= project.category %>">
                <a class="db link aspect-ratio--object cover dim" title="<%= project.images.card.alt %>" href="/prototype2/projects/<%= purl project.name %>" style="background:url(../images/<%= project.images.card.path %>) no-repeat center;">
                  <div class="pa4">
                    <h4 class="mt0 mb2 noto-sans fw4 f6 tracked-mega ttu white"><%= project.category %></h4>
                    <h2 class="ma0 noto-sans fw4 f4 white lh-title"><%= project.name %></h2>
                  </div>
                </a>
              </div>
            </div>
        <% elsif project.images.card.type == "half" && second_half %>
          <% second_half = false %>
            <div class="fl-ns w-50-ns pl15-m pl3-l">
              <div class="aspect-ratio aspect-ratio--16x9 aspect-ratio--1x1-ns <% if r == length - 1 %>mb0<% else %>mb1 mb4-l<% end %>" data-category="<%= project.category %>">
                <a class="db link aspect-ratio--object cover dim" title="<%= project.images.card.alt %>" href="/prototype2/projects/<%= purl project.name %>" style="background:url(../images/<%= project.images.card.path %>) no-repeat center;">
                  <div class="pa4">
                    <h4 class="mt0 mb2 noto-sans fw4 f6 tracked-mega ttu white"><%= project.category %></h4>
                    <h2 class="ma0 noto-sans fw4 f4 white lh-title"><%= project.name %></h2>
                  </div>
                </a>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
<%# Studio Banner %>
<%= partial "partials/p2/banner_contact" %>
<%# Separator %>
<div class="mw8 center ph4 ph0-l">
  <div class="w-100 bb b--near-white"></div>
</div>
