---
layout: main3
title: Projects
---
<%# Create list of category names %>
<% categories = [] %>
<% data.projects2.each do |project| %>
  <% if !categories.include? project.category %>
    <% categories.push(project.category) %>
  <% end %>
<% end %>

<div class="mw8 center ph4 ph8-m ph0-l">
  <%# Project Category Filters %>
  <nav class="mt8 mb4">
    <h4 class="mb0 roboto fw4 f5 dark-gray">Category Filters</h4>
    <ul id="filters" class="list ma0 pt3 pl0 overflow-x-auto overflow-scrolling nowrap center">
      <li class="dib"><%= link_to "All", "/", :class => "filter link roboto mr4 f5 dark-gray hover-dark-gray" %></li>
      <% categories.each do |category| %>
        <li class="dib"><%= link_to category, "/", :class => "filter link roboto mr4 f5 moon-gray hover-dark-gray" %></li>
      <% end %>
    </ul>
  </nav>
  <%# Projects %>
  <div id="projects" class="a4">
    <% l = data.projects3.length %>
    <% data.projects3.each_with_index do |project, r| %>
      <% aspect_ratio = project.images.card.aspect_ratio %>
      <% align = project.images.card.align %>
      <% if aspect_ratio === "1x1" || aspect_ratio === "6x4" %>
        <a class="db link dim <% if r != l - 1 %>mb8<% end %>" href="/prototype3/projects/<%= purl project.name %>" data-category="<%= project.category %>">
          <div class="aspect-ratio aspect-ratio--<%= aspect_ratio %>">
            <div class="aspect-ratio--object bg-near-white"></div>
          </div>
          <p class="mt2 mb0 roboto fw3 lh-title black"><%= project.name %>, <span class="silver"><%= project.category %></span></p>
        </a>
      <% else %>
        <div class="cf">
          <a class="db <% if align === "right" %>fr<% else %>fl<% end %> w-two-thirds link dim <% if r != l - 1 %>mb8<% end %>" href="/prototype3/projects/<%= purl project.name %>" data-category="<%= project.category %>">
            <div class="aspect-ratio aspect-ratio--<%= aspect_ratio %>">
              <div class="aspect-ratio--object bg-near-white"></div>
            </div>
            <p class="mt2 mb0 roboto fw3 lh-title black"><%= project.name %>, <span class="silver"><%= project.category %></span></p>
          </a>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
